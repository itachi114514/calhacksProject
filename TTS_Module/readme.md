# TTS 模块
本项目实现了一个异步语音合成模块，功能包括从 WebSocket 接收文本、通过 TTS 接口生成音频流、并将音频流实时返回至 WebSocket 服务器。支持流式语音合成、参考音色、提示词等参数配置。

---

## 🌟 功能说明

- 监听 WebSocket 文本输入（支持 `SAY:true` 指令清空队列）
- 调用本地 TTS 服务生成语音流（使用参考音频和提示词）
- 支持流式语音数据发送回 WebSocket
- 自动重连、优雅关闭、日志记录

---

## 🔧 使用方法

1. 启动本地 TTS 服务，确保 TTS 接口可通过 `http://127.0.0.1:9880/tts` 访问
2. 修改配置项，如 `REF_AUDIO_PATH`、`PROMPT_TEXT` 等参数
3. 启动程序：

   ```bash
   python tts_module.py

4. 使用 WebSocket 客户端发送文本数据，格式如下：

   ```
   你好，我是可琳。
   ```

   可选指令：

   ```
   SAY:true   # 清空队列并准备说新句子
   ```

---

## 📁 配置项说明

| 配置项           | 说明                            |
|------------------|---------------------------------|
| `WEBSOCKET_URI`  | WebSocket 服务器地址             |
| `TTS_URL`        | 本地 TTS 接口地址                |
| `REF_AUDIO_PATH` | 参考音频路径（影响音色）        |
| `PROMPT_TEXT`    | 提示文本（影响语气和风格）      |
| `BUFFER_SIZE`    | 每次读取音频块的字节数           |



